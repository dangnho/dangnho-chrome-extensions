!function($){$.fn.ruler=function(options){var defaults={vRuleSize:18,hRuleSize:18,showCrosshair:!0,showMousePos:!0},settings=$.extend({},defaults,options),hRule='<div class="ruler hRule"></div>',vRule='<div class="ruler vRule"></div>',corner='<div class="ruler corner"></div>',vMouse='<div class="vMouse"></div>',hMouse='<div class="hMouse"></div>',mousePosBox='<div class="mousePosBox">x: 50%, y: 50%</div>';return Modernizr.touch||(settings.showCrosshair&&($("#lift_ruler").append(vMouse,hMouse),$("body").addClass("lift_ruler_enable")),settings.showMousePos&&$("#lift_ruler").append(mousePosBox),(settings.showCrosshair||settings.showMousePos)&&$(window).mousemove((function(e){settings.showCrosshair&&($(".vMouse").css("top",e.pageY-$(document).scrollTop()+1),$(".hMouse").css("left",e.pageX+1)),settings.showMousePos&&$(".mousePosBox").html("x:"+(e.pageX-settings.vRuleSize)+", y:"+(e.pageY-settings.hRuleSize)).css({top:e.pageY-$(document).scrollTop()+16,left:e.pageX+12})}))),$(window).resize((function(e){var $hRule=$(".hRule"),$vRule=$(".vRule");$hRule.empty(),$vRule.empty().height(0).outerHeight($vRule.parent().outerHeight());for(var tickLabelPos=settings.vRuleSize,newTickLabel="";tickLabelPos<=$hRule.width();)(tickLabelPos-settings.vRuleSize)%50==0?(newTickLabel="<div class='tickLabel'>"+(tickLabelPos-settings.vRuleSize)+"</div>",$(newTickLabel).css("left",tickLabelPos+"px").appendTo($hRule)):(tickLabelPos-settings.vRuleSize)%10==0?$(newTickLabel="<div class='tickMajor'></div>").css("left",tickLabelPos+"px").appendTo($hRule):(tickLabelPos-settings.vRuleSize)%5==0&&$(newTickLabel="<div class='tickMinor'></div>").css("left",tickLabelPos+"px").appendTo($hRule),tickLabelPos+=5;for(tickLabelPos=settings.hRuleSize,newTickLabel="";tickLabelPos<=$vRule.height();)(tickLabelPos-settings.hRuleSize)%50==0?(newTickLabel="<div class='tickLabel'><span>"+(tickLabelPos-settings.hRuleSize)+"</span></div>",$(newTickLabel).css("top",tickLabelPos+"px").appendTo($vRule)):(tickLabelPos-settings.hRuleSize)%10==0?$(newTickLabel="<div class='tickMajor'></div>").css("top",tickLabelPos+"px").appendTo($vRule):(tickLabelPos-settings.hRuleSize)%5==0&&$(newTickLabel="<div class='tickMinor'></div>").css("top",tickLabelPos+"px").appendTo($vRule),tickLabelPos+=5})),this.each((function(){var $this=$(this);if($this.css("padding-top",settings.hRuleSize+1+"px"),settings.hRuleSize>0&&$(hRule).height(settings.hRuleSize).prependTo($this),settings.vRuleSize>0){var oldWidth=$this.outerWidth();$this.css("padding-left",settings.vRuleSize+1+"px").outerWidth(oldWidth),$(vRule).width(settings.vRuleSize).height($(document).height()).prependTo($this)}settings.vRuleSize>0&&settings.hRuleSize>0&&$(corner).css({width:settings.vRuleSize,height:settings.hRuleSize}).prependTo($this);for(var $hRule=$this.children(".hRule"),$vRule=$this.children(".vRule"),tickLabelPos=settings.vRuleSize,newTickLabel="";tickLabelPos<=$hRule.width();)(tickLabelPos-settings.vRuleSize)%50==0?(newTickLabel="<div class='tickLabel'>"+(tickLabelPos-settings.vRuleSize)+"</div>",$(newTickLabel).css("left",tickLabelPos+"px").appendTo($hRule)):(tickLabelPos-settings.vRuleSize)%10==0?$(newTickLabel="<div class='tickMajor'></div>").css("left",tickLabelPos+"px").appendTo($hRule):(tickLabelPos-settings.vRuleSize)%5==0&&$(newTickLabel="<div class='tickMinor'></div>").css("left",tickLabelPos+"px").appendTo($hRule),tickLabelPos+=5;for(tickLabelPos=settings.hRuleSize,newTickLabel="";tickLabelPos<=$vRule.height();)(tickLabelPos-settings.hRuleSize)%50==0?(newTickLabel="<div class='tickLabel'><span>"+(tickLabelPos-settings.hRuleSize)+"</span></div>",$(newTickLabel).css("top",tickLabelPos+"px").appendTo($vRule)):(tickLabelPos-settings.hRuleSize)%10==0?$(newTickLabel="<div class='tickMajor'></div>").css("top",tickLabelPos+"px").appendTo($vRule):(tickLabelPos-settings.hRuleSize)%5==0&&$(newTickLabel="<div class='tickMinor'></div>").css("top",tickLabelPos+"px").appendTo($vRule),tickLabelPos+=5}))}}(jQuery);